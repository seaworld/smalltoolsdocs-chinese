
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">


















 
 
 
 
 
  
  


<html>
  <head>
    <script type="text/javascript" language="JavaScript">
    ORIGINAL_PAGE_PATH = "/appengine/docs/adminconsole/trafficsplitting.html";
    </script>
    
    
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
<title>Traffic Splitting - Google App Engine - Google Code</title>
<script type="text/javascript"><!--
(function(){function a(){this.t={};this.tick=function(c){this.t[c]=(new Date).getTime()};this.tick("start")}var b=new a;window.jstiming={Timer:a,load:b};if(window.external&&window.external.pageT)window.jstiming.pt=window.external.pageT;})();

var _tocPath_ = '/appengine/docs/_toc.ezt';
var codesite_token = null;
var logged_in_user_email = null;
//--></script>
<link href="../../../css/codesite.pack.04102009.css" type="text/css" rel="stylesheet">
<script src="../../../js/codesite_head.pack.04102009.js" type="text/javascript"></script>
<script type="text/javascript">CODESITE_CSITimer['load'].tick('bhs');</script>
<link rel="search" type="application/opensearchdescription+xml" title="Google Code" href="http://code.google.com/osd.xml">

<!--[if IE]><link rel="stylesheet" type="text/css" href="../../../css/iehacks.css"><![endif]-->

    <link href="../../../css/semantic_headers.css" rel="stylesheet" type="text/css" />
    <link href="../../css/local_extensions.css" rel="stylesheet" type="text/css" />
  </head>

  <body class="gc-documentation">

    
    
    <script type="text/javascript">
var _gaq = _gaq || [];

var cookiePath = '/appengine/';
if (cookiePath.lastIndexOf('.html') > cookiePath.lastIndexOf('/')) {
  cookiePath = cookiePath.substring(0, cookiePath.lastIndexOf('/') + 1);
};

_gaq.push(


    ['siteTracker._setAccount', 'UA-18071-1'],
    ['siteTracker._setDomainName', 'code.google.com'],
    ['siteTracker._trackPageview']
);
(function() {
  var ga = document.createElement('script');
  ga.type = 'text/javascript';
  ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  (document.getElementsByTagName('head')[0] ||
   document.getElementsByTagName('body')[0]).appendChild(ga);
 })();
</script>


<div id="gb">
 <span>
  
    <a id="lang-dropdown" href="http://code.google.com" onclick="return false;"><span style="text-decoration:underline">English</span> <span style="font-size:.75em;">&#9660;</span></a>
  
 </span>
</div>

<div class="gbh" style="left:0px;"></div>
<div class="gbh" style="right:0px;"></div>


<div id="gc-container">
<a id="top"></a>
<div id="skipto">
  <a href="#gc-pagecontent">Skip to page content</a>
  <a href="#gc-toc">Skip to main navigation</a>
</div>

<div id="gc-header">
  <div id="logo"><a href="http://code.google.com">
  
     <img src="../../../images/code_logo.gif" height="40" width="167" alt="Google Code" style="border:0;margin:3px 0 0 0;">
  
  </a></div>
  <div id="search">
    <div id="searchForm">
      <form id="cse" action="http://www.google.com/cse" accept-charset="utf-8" onsubmit="executeGSearch(document.getElementById('gsearchInput').value); return false;">
      <noscript>
      <input type="hidden" name="cref" value="http://code.google.com/cse/googlecode-context.xml">
      </noscript>
      <div id="gsc-search-box">
        <input id="gsearchInput" type="text" name="q" maxlength="2048" class="gsc-input" autocomplete="off" title="Google Code Search" style="width:345px">
        <div id="cs-searchresults" onclick="event.cancelBubble = true;"></div>
        <input title="Search" id="gsearchButton" class="gsc-search-button" name="sa" value="Search" type="submit">
        <div class="greytext">e.g. "templates" or "datastore"</div>
      </div>
      </form>
    </div> <!-- end searchForm -->
  </div> <!-- end search -->




</div> <!-- end gc-header -->


<div id="codesiteContent">

<a id="gc-topnav-anchor"></a>
<div id="gc-topnav">
  <h1 style="padding:0 0 0 6px;">Google App Engine</h1>
  <ul id="docs" class="gc-topnav-tabs">

    <li id="home_link">
      <a href="../../index.html" title="Google App Engine home page">Home</a>
    </li>
  
    <li id="docs_link">
      <a href="../index.html" class="selected" title="Official Google App Engine documentation">Docs</a>
    </li>
  
    <li id="faq_link">
      <a href="../../kb/index.html" title="Answers to frequently asked questions about Google App Engine">FAQ</a>
    </li>
  
    <li id="articles_link">
      <a href="../../articles/index.html" title="Focused articles and tutorials for Google App Engine developers">Articles</a>
    </li>
  
    <li>
      <a href="http://googleappengine.blogspot.com/" title="Official Google App Engine blog">Blog</a>
    </li>
  
    <li>
      <a href="../../community.html" title="Community home for Google App Engine">Community</a>
    </li>
  
    <li>
      <a href="../../terms.html" title="Google App Engine terms of service">Terms</a>
    </li>
  
    <li>
      <a href="../../downloads.html" title="Download Google App Engine">Download</a>
    </li>
  

  
  
  
  
  <li><g:plusone size="small" count="false" source="google:googlecode"></g:plusone>&nbsp;</li>
</ul>
</div> <!-- end gc-topnav -->


    <div class="g-section g-tpl-170">

      <div class="g-unit g-first" id="gc-toc">
        <ul>
  <li><a href="../../downloads.html">Downloads</a></li>
  <li><a href="../../tools_tips.html">Tools and Tips</a></li>
  <li><a href="../glossary.html">Glossary</a></li>
  <li><a href="https://appengine.google.com/">Admin Console</a></li>
  <li><a href="http://code.google.com/status/appengine">System Status</a></li>
  <li><a href="http://code.google.com/p/googleappengine/issues/list">Issue Tracker</a></li>
</ul>
<div class="line"></div>
<ul>
  <li><h2>Getting Started</h2>
    <ul>
      <li><a href="../whatisgoogleappengine.html">What Is Google App Engine?</a></li>
      <li><a href="../java/gettingstarted/index.html">Java</a>
        <ul>
              <li><a href="../java/gettingstarted/introduction.html">Introduction</a></li>
    <li><a href="../java/gettingstarted/installing.html">Installing the Java SDK</a></li>
    <li><a href="../java/gettingstarted/creating.html">Creating a Project</a></li>
    <li><a href="../java/gettingstarted/usingusers.html">Using the Users Service</a></li>
    <li><a href="../java/gettingstarted/usingjsps.html">Using JSPs</a></li>
    <li><a href="../java/gettingstarted/usingdatastore.html">Using the Datastore</a></li>
    <li><a href="../java/gettingstarted/staticfiles.html">Using Static Files</a></li>
    <li><a href="../java/gettingstarted/uploading.html">Uploading Your Application</a></li>
    <li><a href="http://googcloudlabs.appspot.com">Codelabs for Getting Started in Java</a></li>

        </ul>
      </li>
      <li><a href="../python/gettingstarted/index.html">Python 2.5</a>
        <ul>
            <li><a href="../python/gettingstarted/introduction.html">Introduction</a></li>
  <li><a href="../python/gettingstarted/devenvironment.html">The Development Environment</a></li>
  <li><a href="../python/gettingstarted/helloworld.html">Hello, World!</a></li>
  <li><a href="../python/gettingstarted/usingwebapp.html">Using the webapp Framework</a></li>
  <li><a href="../python/gettingstarted/usingusers.html">Using the Users Service</a></li>
  <li><a href="../python/gettingstarted/handlingforms.html">Handling Forms With webapp</a></li>
  <li><a href="../python/gettingstarted/usingdatastore.html">Using the Datastore</a></li>
  <li><a href="../python/gettingstarted/templates.html">Using Templates</a></li>
  <li><a href="../python/gettingstarted/staticfiles.html">Using Static Files</a></li>
  <li><a href="../python/gettingstarted/uploading.html">Uploading Your Application</a></li>

        </ul>
      </li>
      <li><a href="../python/gettingstartedpython27/index.html">Python 2.7</a>
        <ul>
            <li><a href="../python/gettingstartedpython27/introduction.html">Introduction</a></li>
  <li><a href="../python/gettingstartedpython27/devenvironment.html">The Development Environment</a></li>
  <li><a href="../python/gettingstartedpython27/helloworld.html">Hello, World!</a></li>
  <li><a href="../python/gettingstartedpython27/usingwebapp.html">Explaining the webapp2 Framework</a></li>
  <li><a href="../python/gettingstartedpython27/usingusers.html">Using the Users Service</a></li>
  <li><a href="../python/gettingstartedpython27/handlingforms.html">Handling Forms With webapp</a></li>
  <li><a href="../python/gettingstartedpython27/usingdatastore.html">Using the Datastore</a></li>
  <li><a href="../python/gettingstartedpython27/templates.html">Using Templates</a></li>
  <li><a href="../python/gettingstartedpython27/staticfiles.html">Using Static Files</a></li>
  <li><a href="../python/gettingstartedpython27/uploading.html">Uploading Your Application</a></li>

        </ul>
      </li>
      <li><a href="../go/gettingstarted/index.html">Go</a>
        <ul>
          <li><span class="exp-feat">Experimental!</span></li>
            <li><a href="../go/gettingstarted/introduction.html">Introduction</a></li>
  <li><a href="../go/gettingstarted/devenvironment.html">The Development Environment</a></li>
  <li><a href="../go/gettingstarted/helloworld.html">Hello, World!</a></li>
  <li><a href="../go/gettingstarted/usingusers.html">Using the Users Service</a></li>
  <li><a href="../go/gettingstarted/handlingforms.html">Handling Forms</a></li>
  <li><a href="../go/gettingstarted/usingdatastore.html">Using the Datastore</a></li>
  <li><a href="../go/gettingstarted/uploading.html">Uploading Your Application</a></li>

        </ul>
      </li>
    </ul>
  </li>
</ul>
<div class="line"></div>
<ul>
  <li><h2>Java</h2>
    <ul>
          <li><a href="../java/overview.html">Overview</a></li>
    <li><a href="../java/runtime.html">Servlet Environment</a></li>
    <li><a href="../java/backends/index.html">Backends</a>
      <ul>
        <li><a href="../java/backends/overview.html">Overview</a></li>
<li><a href="../java/javadoc/com/google/appengine/api/backends/package-summary.html">Javadoc Reference</a></li>


      </ul>
    </li>
    <li><a href="../java/datastore/index.html">Storing Data</a>
      <ul>
            <li><a href="../java/datastore/overview.html">Overview</a></li>
    <li><a href="../java/datastore/entities.html">Entities</a></li>
    <li><a href="../java/datastore/queries.html">Queries</a></li>
    <li><a href="../java/datastore/transactions.html">Transactions</a></li>
    <li><a href="../java/datastore/hr/index.html">Choosing a Datastore</a></li>
    <li><a href="../java/datastore/hr/overview.html">Using the High Replication Datastore</a></li>
    <li><a href="../java/datastore/metadataqueries.html">Metadata Queries</a></li>
    <li><a href="../java/datastore/stats.html">Statistics</a></li>
    <li><a href="../java/datastore/async.html">Async API</a></li>
    <li><a href="../java/datastore/callbacks.html">Callbacks</a></li>
    <li><a href="../java/datastore/jdo/index.html">JDO</a>
      <ul>
            <li><a href="../java/datastore/jdo/overview.html">Overview</a></li>
    <li><a href="../java/datastore/jdo/dataclasses.html">Defining Data Classes with JDO</a></li>
    <li><a href="../java/datastore/jdo/creatinggettinganddeletingdata.html">Creating, Getting, and Deleting Data in JDO</a></li>
    <li><a href="../java/datastore/jdo/relationships.html">Entity Relationships in JDO</a></li>
    <li><a href="../java/datastore/jdo/queries.html">Queries in JDO</a></li>

      </ul>
    </li>
    <li><a href="../java/datastore/jpa/index.html">JPA</a>
      <ul>
            <li><a href="../java/datastore/jpa/overview.html">Overview</a></li>

      </ul>
    </li>
    <li><a href="../java/googlestorage/index.html">Google Cloud Storage</a>
      <ul>
        <li><a href="../java/googlestorage/overview.html">Overview</a></li>
<li><a href="../java/javadoc/com/google/appengine/api/files/package-summary.html">API Reference</a></li>
    </li>


      </ul>
    </li>
    <li><a href="../java/javadoc/com/google/appengine/api/datastore/package-summary.html">Javadoc Reference</a></li>

      </ul>
    </li>
    <li><a href="../java/apis.html">Services</a>
      <ul>
        <li><a href="../java/appidentity/index.html">App Identity</a>
          <ul>
            <li><a href="../java/appidentity/overview.html">Overview</a></li>

<li><a href="../java/javadoc/com/google/appengine/api/appidentity/package-summary.html">Low-level API</a></li>

          </ul>
        </li>
        <li><a href="../java/blobstore/index.html">Blobstore</a>
          <ul>
            <li><a href="../java/blobstore/overview.html">Overview</a></li>
<li><span class="tlw-title tlw-expanded">Reference</span>
  <ul>
    <li><a href="../java/javadoc/com/google/appengine/api/blobstore/package-summary.html">API Reference</a></li>
  </ul>
</li>

          </ul>
        </li>
        <li><a href="../java/googlestorage/index.html">Google Cloud Storage</a>
          <ul>
            <li><a href="../java/googlestorage/overview.html">Overview</a></li>
<li><a href="../java/javadoc/com/google/appengine/api/files/package-summary.html">API Reference</a></li>
    </li>


          </ul>
        </li>
        <li><a href="../java/capabilities/index.html">Capabilities</a>
          <ul>
            <li><a href="../java/capabilities/overview.html">Overview</a></li>
<li><a href="../java/javadoc/com/google/appengine/api/capabilities/package-summary.html">Javadoc Reference</a></li>

          </ul>
        </li>
        <li><a href="../java/conversion/index.html">Conversion</a>
          <ul>
            <li><a href="../java/conversion/overview.html">Overview</a></li>
<li><a href="../java/javadoc/com/google/appengine/api/conversion/package-summary.html">Javadoc Reference</a></li>

          </ul>
        </li>
        <li><a href="../java/channel/index.html">Channel</a>
          <ul>
            <li><a href="../java/channel/overview.html">Overview</a></li>
<li><a href="../java/javadoc/com/google/appengine/api/channel/package-summary.html">Javadoc Reference</a></li>
<li><a href="../java/channel/javascript.html">JavaScript Reference</a></li>

          </ul>
        </li>
        <li><a href="../java/images/index.html">Images</a>
          <ul>
                <li><a href="../java/images/overview.html">Overview</a></li>
    <li><a href="../java/javadoc/com/google/appengine/api/images/package-summary.html">API Reference</a></li>

          </ul>
        </li>
        <li><a href="../java/mail/index.html">Mail</a>
          <ul>
                <li><a href="../java/mail/overview.html">Overview</a></li>
    <li><a href="../java/mail/usingjavamail.html">Using JavaMail to Send Mail</a></li>
    <li><a href="../java/mail/receiving.html">Receiving Mail</a></li>
    <li><a href="../java/javadoc/com/google/appengine/api/mail/package-summary.html">Low-level API</a></li>

          </ul>
        </li>
        <li><a href="../java/memcache/index.html">Memcache</a>
          <ul>
                <li><a href="../java/memcache/overview.html">Overview</a></li>
    <li><a href="../java/memcache/usingjcache.html">Using JCache</a></li>
    <li><a href="../java/javadoc/com/google/appengine/api/memcache/package-summary.html">Low-level API</a></li>

          </ul>
        </li>
        <li><a href="../java/multitenancy/index.html">Multitenancy</a>
          <ul>
                  <li><a href="../java/multitenancy/overview.html">Overview</a></li>
    <li><a href="../java/multitenancy/multitenancy.html">Multitenancy with Namespaces</a></li>
    <li><a href="../java/multitenancy/namespaces.html">Other Uses for Namespaces</a></li>
    <li><a href="../java/javadoc/com/google/appengine/api/NamespaceManager.html">API Reference</a></li>

          </ul>
        </li>
        <li><a href="../java/oauth/index.html">OAuth</a>
          <ul>
                <li><a href="../java/oauth/overview.html">Overview</a></li>
    <li><a href="../java/javadoc/com/google/appengine/api/oauth/package-summary.html">API Reference</a></li>


          </ul>
        </li>
        <li><a href="../java/prospectivesearch/index.html">Prospective Search</a>
          <ul>
            <li><a href="../java/prospectivesearch/overview.html">Overview</a></li>
<li><a href="../java/javadoc/com/google/appengine/api/prospectivesearch/package-summary.html">Javadoc Reference</a></li>

          </ul>
        </li>
        <li><a href="../java/taskqueue/index.html">Task Queues</a>
          <ul>
                 <li><a href="../java/taskqueue/overview.html">Overview</a></li>
     <li><a href="../java/taskqueue/overview-push.html">Using Push Queues</a></li>
     <li><a href="../java/taskqueue/overview-pull.html">Using Pull Queues</a><sup class="new">New!</sup></li>
     <li><a href="../java/javadoc/com/google/appengine/api/taskqueue/package-summary.html">Javadoc Reference</a></li>
     <li><a href="../java/taskqueue/rest.html">REST reference</a> <span class="exp-feat">(Experimental)</span></li>
          </ul>
        </li>
        <li><a href="../java/urlfetch/index.html">URL Fetch</a>
          <ul>
                <li><a href="../java/urlfetch/overview.html">Overview</a></li>
    <li><a href="../java/urlfetch/usingjavanet.html">Using java.net</a></li>
    <li><a href="../java/javadoc/com/google/appengine/api/urlfetch/package-summary.html">Low-level API</a></li>

          </ul>
        </li>
        <li><a href="../java/users/index.html">Users</a>
          <ul>
                <li><a href="../java/users/overview.html">Overview</a></li>
    <li><a href="../java/javadoc/com/google/appengine/api/users/package-summary.html">API Reference</a></li>

          </ul>
        </li>
        <li><a href="../java/xmpp/index.html">XMPP</a>
          <ul>
                 <li><a href="../java/xmpp/overview.html">Overview</a></li>
     <li><a href="../java/javadoc/com/google/appengine/api/xmpp/package-summary.html">API Reference</a></li>

          </ul>
        </li>
      </ul>
    </li>
    <li><a href="../java/javadoc/index.html">Services Javadoc</a></li>
    <li><a href="../java/jrewhitelist.html">JRE Class White List</a></li>
    <li><a href="../java/config/index.html">Configuration</a>
      <ul>
            <li><a href="../java/config/webxml.html">Deployment Descriptor</a></li>
    <li><a href="../java/config/appconfig.html">App Config</a></li>
    <li><a href="../java/config/backends.html">Backends Config</a></li>
    <li><a href="../java/config/indexconfig.html">Index Config</a></li>
    <li><a href="../java/config/cron.html">Scheduled Tasks</a></li>
    <li><a href="../java/config/queue.html">Task Queue Config</a></li>
    <li><a href="../java/config/dos.html">DoS Protection Config</a></li>

      </ul>
    </li>
    <li><a href="../java/configyaml/index.html">YAML Configuration</a>
      <ul>
                <li><a href="../java/configyaml/appconfig_yaml.html">YAML App Config</a></li>
        <li><a href="../java/configyaml/backends.html">Backends Config</a></li>
        <li><a href="../java/configyaml/indexconfig.html">Index Config</a></li>
        <li><a href="../java/configyaml/cron.html">Scheduled Tasks</a></li>
        <li><a href="../java/configyaml/queue.html">Task Queue Config</a></li>
        <li><a href="../java/configyaml/dos.html">DoS Protection Config</a></li>

      </ul>
    </li>
    <li><a href="../java/tools/index.html">Tools</a>
      <ul>
            <li><a href="../java/tools/devserver.html">Development Server</a></li>
    <li><a href="../java/tools/uploadinganapp.html">Uploading and Managing an App</a></li>
    <li><a href="../java/tools/eclipse.html">Google Plugin for Eclipse</a></li>
    <li><a href="../java/tools/ant.html">Using Apache Ant</a></li>
    <li><a href="../java/tools/capabilities.html">Capabilities Service Test Configuration</a>
    <li><a href="../java/tools/localunittesting.html">Local Unit Testing</a>
        <ul>
            <li><a href="../java/tools/localunittesting/javadoc/index.html">Testing Javadoc</a></li>
        </ul>
    </li>
    <li><a href="../java/tools/appstats.html">Appstats</a></li>
    <li><a href="../java/tools/remoteapi.html">Remote API</a></li>

      </ul>
    </li>
    <li><a href="../java/howto/index.html">How-To</a>
      <ul>
              <li><a href="../java/howto/maintenance.html">Handling Scheduled Maintenance Periods</a></li>

      </ul>
    </li>

    </ul>
  </li>
</ul>
<div class="line"></div>
<ul>
  <li><h2>Python</h2>
    <ul>
          <li><a href="../python/overview.html">Overview</a></li>
    <li><a href="../python/runtime.html">Runtime Environment</a></li>
    <li><a href="../python/python27/index.html">Python 2.7</a>
      <ul>
            <li><a href="../python/python27/newin27.html">What's New in Python 2.7</a></li>
    <li><a href="../python/python27/using27.html">Using Python 2.7</a></li>

      </ul>
    </li>
    <li><a href="../python/backends/index.html">Backends</a>
      <ul>
        <li><a href="../python/backends/overview.html">Overview</a></li>
<li><span class="tlw-title tlw-expanded">Reference</span>
  <ul>
    <li><a href="../python/backends/functions.html">Backends API Functions</a></li>
    <li><a href="../python/backends/exceptions.html">Backends API Exceptions</a></li>
    <li><a href="../python/backends/runtimeapi.html">Runtime API</a></li>
  </ul>
</li>

      </ul>
    </li>
    <li><a href="../python/datastore/index.html">Storing Data</a>
      <ul>
              <li><a href="../python/datastore/overview.html">Datastore Overview</a></li>
      <li><a href="../python/datastore/entities.html">Entities</a></li>
      <li><a href="../python/datastore/queries.html">Queries</a></li>
      <li><a href="../python/datastore/transactions.html">Transactions</a></li>
      <li><a href="../python/datastore/datamodeling.html">Data Modeling</a></li>
      <li><a href="../python/datastore/gqlreference.html">GQL Reference</a></li>
      <li><a href="../python/datastore/hr/index.html">Choosing a Datastore</a></li>
      <li><a href="../python/datastore/hr/overview.html">Using the High Replication Datastore</a></li>
      <li><a href="../python/datastore/metadataqueries.html">Metadata Queries</a></li>
      <li><a href="../python/datastore/stats.html">Statistics</a></li>
      <li><a href="../python/datastore/async.html">Async API</a></li>
      <li><span class="tlw-title tlw-expanded">Reference</span>
        <ul>
          <li><a href="../python/datastore/typesandpropertyclasses.html">Types and Property Classes</a></li>
          <li><a href="../python/datastore/gqlreference.html">GQL Reference</a></li>
          <li><a href="../python/datastore/modelclass.html">Model</a></li>
          <li><a href="../python/datastore/expandoclass.html">Expando</a></li>
          <li><a href="../python/datastore/polymodelclass.html">PolyModel</a></li>
          <li><a href="../python/datastore/propertyclass.html">Property</a></li>
          <li><a href="../python/datastore/queryclass.html">Query</a></li>
          <li><a href="../python/datastore/gqlqueryclass.html">GqlQuery</a></li>
          <li><a href="../python/datastore/metadataentityclasses.html">Metadata Entities</a></li>
          <li><a href="../python/datastore/keyclass.html">Key</a></li>
          <li><a href="../python/datastore/functions.html">Functions</a></li>
          <li><a href="../python/datastore/exceptions.html">Exceptions</a></li>
        </ul>
      <li><a href="../python/ndb/index.html">NDB</a>
        <ul>
                <li><a href="../python/ndb/overview.html">NDB Overview</a></li>
      <li><a href="../python/ndb/entities.html">Entities and Keys</a></li>
      <li><a href="../python/ndb/properties.html">Properties</a></li>
      <li><a href="../python/ndb/subclassprop.html">Writing Property Subclasses</a></li>
      <li><a href="../python/ndb/queries.html">Queries</a></li>
      <li><a href="../python/ndb/transactions.html">Transactions</a></li>
      <li><a href="../python/ndb/admin.html">Administration</a></li>
      <li><a href="../python/ndb/async.html">Asynchronous Operation</a></li>
      <li><a href="../python/ndb/cache.html">Caching</a></li>
      <li><span class="tlw-title tlw-expanded">Reference</span>
        <ul>
          <li><a href="../python/ndb/contextclass.html">Context</a></li>
          <li><a href="../python/ndb/futureclass.html">Future</a></li>
          <li><a href="../python/ndb/keyclass.html">Key</a></li>
          <li><a href="../python/ndb/modelclass.html">Model</a></li>
          <li><a href="../python/ndb/queryclass.html">Query</a></li>
          <li><a href="../python/ndb/polymodelclass.html">PolyModel</a></li>
          <li><a href="../python/ndb/metadata.html">Metadata</a></li>
          <li><a href="../python/ndb/functions.html">functions</a></li>
        </ul>
      </li>

        </ul>
      </li>
      <li><a href="../python/googlestorage/index.html">Google Cloud Storage</a>
        <ul>
          <li><a href="../python/googlestorage/overview.html">Overview</a></li>
<li><a href="../python/googlestorage/functions.html">Functions</a></li>
<li><a href="../python/googlestorage/exceptions.html">Exceptions</a></li>
    </li>


        </ul>
      </li>
      </li>

      </ul>
    </li>
    <li><a href="../python/dataprocessing/index.html">Data Processing</a>
      <ul>
             <li><a href="../python/dataprocessing/overview.html">Overview</a></li>
     <li><a href="../python/dataprocessing/helloworld.html">Hello World</a></li>
     <li><span class="tlw-title tlw-expanded">Reference</span>
       <ul>
         <li><a href="../python/dataprocessing/mapreducepipelineclass.html">Mapreduce Pipeline</a></li>
         <li><a href="../python/dataprocessing/readers_writers.html">Standard Input Readers and Output Writers</a></li>
       </ul>
     </li>

      </ul>
    </li>
    <li><a href="../python/apis.html">Services</a>
      <ul>
        <li><a href="../python/appidentity/index.html">App Identity</a>
          <ul>
            <li><a href="../python/appidentity/overview.html">Overview</a></li>
<li><span class="tlw-title tlw-expanded">Reference</span>
  <ul>
    <li><a href="../python/appidentity/functions.html">Functions</a></li>
    <li><a href="../python/appidentity/exceptions.html">Exceptions</a></li>
  </ul>
</li>

          </ul>
        </li>
        <li><a href="../python/blobstore/index.html">Blobstore</a>
          <ul>
            <li><a href="../python/blobstore/overview.html">Overview</a></li>
<li><span class="tlw-title tlw-expanded">Reference</span>
  <ul>
    <li><code><a href="../python/blobstore/blobinfoclass.html">BlobInfo</a></code></li>
    <li><code><a href="../python/blobstore/blobkeyclass.html">BlobKey</a></code></li>
    <li><code><a href="../python/blobstore/blobreaderclass.html">BlobReader</a></code></li>
    <li><a href="../python/blobstore/rpcclass.html">Blobstore RPC</a></li>
    <li><a href="../python/blobstore/functions.html">Functions</a></li>
    <li><a href="../python/blobstore/exceptions.html">Exceptions</a></li>
  </ul>
</li>

          </ul>
        </li>
        <li><a href="../python/capabilities/index.html">Capabilities</a>
          <ul>
            <li><a href="../python/capabilities/overview.html">Overview</a></li>
<li><span class="tlw-title tlw-expanded">Reference</span>
  <ul>
    <li><a href="../python/capabilities/capabilitysetclass.html">CapabilitySet</a></li>
    <li><a href="../python/capabilities/exceptions.html">Exceptions</a></li>
  </ul>
</li>

          </ul>
        </li>
        <li><a href="../python/conversion/index.html">Conversion</a>
          <ul>
            <li><a href="../python/conversion/overview.html">Overview</a></li>
<li><span class="tlw-title tlw-expanded">Reference</span>
  <ul>
    <li><a href="../python/conversion/conversionclass.html">Conversion Class</a></li>
    <li><a href="../python/conversion/propertyclasses.html">Property Classes</a></li>
    <li><a href="../python/conversion/functions.html">Functions</a></li>
    <li><a href="../python/conversion/exceptions.html">Exceptions</a></li>
  </ul>
</li>

          </ul>
        </li>
        <li><a href="../python/channel/index.html">Channel</a>
          <ul>
            <li><a href="../python/channel/overview.html">Overview</a></li>
<li><span class="tlw-title tlw-expanded">Reference</span>
  <ul>
    <li><a href="../python/channel/functions.html">Functions</a></li>
    <li><a href="../python/channel/exceptions.html">Exceptions</a></li>
    <li><a href="../python/channel/javascript.html">Client Javascript Reference</a></li>
  </ul>
</li>

          </ul>
        </li>
        <li><a href="../python/images/index.html">Images</a>
          <ul>
                 <li><a href="../python/images/overview.html">Overview</a></li>
     <li><a href="../python/images/installingPIL.html">Installing PIL</a></li>
     <li><a href="../python/images/usingimages.html">Using the Images API</a></li>
     <li><span class="tlw-title tlw-expanded">Reference</span>
       <ul>
         <li><a href="../python/images/imageclass.html">Image</a></li>
         <li><a href="../python/images/functions.html">Functions</a></li>
         <li><a href="../python/images/exceptions.html">Exceptions</a></li>
       </ul>
     </li>

          </ul>
        </li>
        <li><a href="../python/logservice/index.html">LogService</a>
          <ul>
                 <li><span class="tlw-title tlw-expanded">Reference</span>
       <ul>
         <li><a href="../python/logservice/applogclass.html">AppLog</a></li>
         <li><a href="../python/logservice/requestlogclass.html">RequestLog</a></li>
         <li><a href="../python/logservice/functions.html">Functions</a></li>
         <li><a href="../python/logservice/exceptions.html">Exceptions</a></li>
       </ul>
     </li>

          </ul>
        </li>
        <li><a href="../python/mail/index.html">Mail</a>
          <ul>
                 <li><a href="../python/mail/overview.html">Overview</a></li>
     <li><a href="../python/mail/sendingmail.html">Sending Mail</a></li>
     <li><a href="../python/mail/receivingmail.html">Receiving Mail</a></li>
     <li><a href="../python/mail/attachments.html">Attachments</a></li>
     <li><a href="../python/mail/headers.html">Headers</a></li>
     <li><span class="tlw-title tlw-expanded">Reference</span>
       <ul>
         <li><a href="../python/mail/emailmessageclass.html">EmailMessage</a></li>
         <li><a href="../python/mail/emailmessagefields.html">Message Fields</a></li>
         <li><a href="../python/mail/functions.html">Functions</a></li>
         <li><a href="../python/mail/exceptions.html">Exceptions</a></li>
       </ul>
     </li>

          </ul>
        </li>
        <li><a href="../python/memcache/index.html">Memcache</a>
          <ul>
                 <li><a href="../python/memcache/overview.html">Overview</a></li>
      <li><a href="../python/memcache/usingmemcache.html">Using Memcache</a></li>
     <li><span class="tlw-title tlw-expanded">Reference</span>
       <ul>
         <li><a href="../python/memcache/clientclass.html">Client</a></li>
         <li><a href="../python/memcache/functions.html">Functions</a></li>
       </ul>
     </li>

          </ul>
        </li>
        <li><a href="../python/multitenancy/index.html">Multitenancy</a>
          <ul>
                  <li><a href="../python/multitenancy/overview.html">Overview</a></li>
    <li><a href="../python/multitenancy/multitenancy.html">Multitenancy with Namespaces</a></li>
    <li><a href="../python/multitenancy/namespaces.html">Other Uses for Namespaces</a></li>
    <li>Reference
      <ul>
        <li><a href="../python/multitenancy/functions.html">Functions</a></li>
        <li><a href="../python/multitenancy/exceptions.html">Exceptions</a></li>
      </ul>
    </li>

          </ul>
        </li>
        <li><a href="../python/oauth/index.html">OAuth</a>
          <ul>
                 <li><a href="../python/oauth/overview.html">Overview</a></li>
     <li><span class="tlw-title tlw-expanded">Reference</span>
       <ul>
         <li><a href="../python/oauth/functions.html">Functions</a></li>
         <li><a href="../python/oauth/exceptions.html">Exceptions</a></li>
       </ul>
     </li>

          </ul>
        </li>
        <li><a href="../python/prospectivesearch/index.html">Prospective Search</a>
          <ul>
            <li><a href="../python/prospectivesearch/overview.html">Overview</a></li>
<li><span class="tlw-title tlw-expanded">Reference</span>
  <ul>
    <li><a href="../python/prospectivesearch/functions.html">Functions</a></li>
    <li><a href="../python/prospectivesearch/exceptions.html">Exceptions</a></li>
  </ul>
</li> 

          </ul> 
        </li>
        <li><a href="../python/taskqueue/index.html">Task Queues</a>
          <ul>
                 <li><a href="../python/taskqueue/overview.html">Overview</a></li>
     <li><a href="../python/taskqueue/overview-push.html">Using Push Queues</a></li>
     <li><a href="../python/taskqueue/overview-pull.html">Using Pull Queues</a><sup class="new">New!</sup></li>
     <li><span class="tlw-title tlw-expanded">Reference</span>
       <ul>
         <li><a href="../python/taskqueue/tasks.html">Task Class</a></li>
         <li><a href="../python/taskqueue/taskretryoptions.html">TaskRetryOptions Class</a></li>
         <li><a href="../python/taskqueue/queues.html">Queue Class</a></li>
         <li><a href="../python/taskqueue/rest.html">REST</a>  <span class="exp-feat">(Experimental)</span></li>
         <li><a href="../python/taskqueue/functions.html">Functions</a></li>
         <li><a href="../python/taskqueue/exceptions.html">Exceptions</a></li>
       </ul>
     </li>

          </ul>
        </li>
        <li><a href="../python/urlfetch/index.html">URL Fetch</a>
          <ul>
                 <li><a href="../python/urlfetch/overview.html">Overview</a></li>
     <li><span class="tlw-title tlw-expanded">Reference</span>
       <ul>
         <li><a href="../python/urlfetch/fetchfunction.html">The fetch Function</a></li>
         <li><a href="../python/urlfetch/asynchronousrequests.html">Asynchronous Requests</a></li>
         <li><a href="../python/urlfetch/responseobjects.html">Response Objects</a></li>
         <li><a href="../python/urlfetch/exceptions.html">Exceptions</a></li>
       </ul>
     </li>

          </ul>
        </li>
        <li><a href="../python/users/index.html">Users</a>
          <ul>
                 <li><a href="../python/users/overview.html">Overview</a></li>
     <li><a href="../python/users/userobjects.html">User Objects</a></li>
     <li><a href="../python/users/loginurls.html">Login URLs</a></li>
     <li><a href="../python/users/adminusers.html">Admin Users</a></li>

     <li><span class="tlw-title tlw-expanded">Reference</span>
       <ul>
         <li><a href="../python/users/userclass.html">User</a></li>
         <li><a href="../python/users/functions.html">Functions</a></li>
         <li><a href="../python/users/exceptions.html">Exceptions</a></li>
       </ul>
     </li>

          </ul>
        </li>
        <li><a href="../python/xmpp/index.html">XMPP</a>
          <ul>
                 <li><a href="../python/xmpp/overview.html">Overview</a></li>
     <li><span class="tlw-title tlw-expanded">Reference</span>
       <ul>
         <li><a href="../python/xmpp/functions.html">Functions</a></li>
         <li><a href="../python/xmpp/messageclass.html">Message</a></li>
         <li><a href="../python/xmpp/exceptions.html">Exceptions</a></li>
       </ul>
     </li>

          </ul>
        </li>
      </ul>
    </li>
    <li><a href="../python/config/index.html">Configuration</a>
      <ul>
            <li><a href="../python/config/appconfig.html">App Config</a></li>
    <li><a href="../python/config/backends.html">Backends Config</a></li>
    <li><a href="../python/config/indexconfig.html">Index Config</a></li>
    <li><a href="../python/config/cron.html">Scheduled Tasks</a></li>
    <li><a href="../python/config/queue.html">Task Queue Config</a></li>
    <li><a href="../python/config/dos.html">DoS Protection Config</a></li>

      </ul>
    </li>
    <li><span class="tlw-title"><a href="../python/tools/index.html">Tools</a></span>
      <ul>
            <li><a href="../python/tools/devserver.html">Development Server</a></li>
    <li><a href="../python/tools/uploadinganapp.html">Uploading and Managing an App</a></li>
    <li><a href="../python/tools/uploadingdata.html">Uploading and Downloading Data</a></li>
    <li><span class="tlw-title"><a href="../python/tools/protorpc/index.html">ProtoRPC</a></span>
      <ul>
        <li><a href="../python/tools/protorpc/overview.html">Overview</a></li>
<li><a href="../python/tools/protorpc/definition-functions.html">Definition Module</a></li>
<li>Descriptor Module
  <ul>
        <li><a href="../python/tools/protorpc/descriptor/descriptorlibrary.html">DescriptorLibrary Functions</a></li>
    <li><a href="../python/tools/protorpc/descriptor/functions.html">Functions</a></li>

  </ul>
</li>
<li>Messages Module
  <ul>
        <li><a href="../python/tools/protorpc/messages/enumclass.html">Enum</a></li>
    <li><a href="../python/tools/protorpc/messages/enumfieldclass.html">EnumField</a></li>
    <li><a href="../python/tools/protorpc/messages/fieldclass.html">Field</a></li>
    <li><a href="../python/tools/protorpc/messages/fieldclasses.html">Message Field Classes</a></li>
    <li><a href="../python/tools/protorpc/messages/messageclass.html">Message</a></li>
    <li><a href="../python/tools/protorpc/messages/messagefieldclass.html">MessageField</a></li>
    <li><a href="../python/tools/protorpc/messages/variantclass.html">Variant</a></li>
    <li><a href="../python/tools/protorpc/messages/functions.html">Functions</a></li>
    <li><a href="../python/tools/protorpc/messages/exceptions.html">Exceptions</a></li>
  </ul>
</li>
<li>Remote Service Library
  <ul>
        <li><a href="../python/tools/protorpc/remote/index.html">Overview</a></li>
    <li><a href="../python/tools/protorpc/remote/httprequeststateclass.html">HttpRequestState Class</a></li>
    <li><a href="../python/tools/protorpc/remote/requeststateclass.html">RequestState Class</a></li>
    <li><a href="../python/tools/protorpc/remote/rpcstatusclass.html">RpcStatus Class</a></li>
    <li><a href="../python/tools/protorpc/remote/serviceclass.html">Service Class</a></li>
    <li><a href="../python/tools/protorpc/remote/functions.html">Functions</a></li>
    <li><a href="../python/tools/protorpc/remote/exceptions.html">Exceptions</a></li>

  </ul>
</li>
<li>Transport Library
  <ul>
        <li><a href="../python/tools/protorpc/transport/httptransport.html">HttpTransport Class</a></li>
    <li><a href="../python/tools/protorpc/transport/transport.html">Transport Class</a></li>

  </ul>
</li>
<li>WebApp Service Handlers
  <ul>
        <li><a href="../python/tools/protorpc/webapp/index.html">Overview</a></li>
    <li><a href="../python/tools/protorpc/webapp/functions.html">WebApp Service Handlers</a></li>

  </ul>
</li>

      </ul>
    </li>
    <li><a href="../python/tools/webapp/index.html">webapp Framework</a>
      <ul>
             <li><a href="../python/tools/webapp/overview.html">Overview</a></li>
     <li><a href="../python/tools/webapp/running.html">Running the Application</a></li>
     <li><a href="../python/tools/webapp/requesthandlers.html">Request Handlers</a></li>
     <li><a href="../python/tools/webapp/requestdata.html">Request Data</a></li>
     <li><a href="../python/tools/webapp/buildingtheresponse.html">Building the Response</a></li>
     <li><a href="../python/tools/webapp/redirects.html">Redirects, Headers and Status Codes</a></li>
     <li><a href="../python/tools/webapp/blobstorehandlers.html">Blobstore Handlers</a></li>

     <li><span class="tlw-title tlw-expanded">Reference</span>
       <ul>
         <li><a href="../python/tools/webapp/requestclass.html">Request</a></li>
         <li><a href="../python/tools/webapp/responseclass.html">Response</a></li>
         <li><a href="../python/tools/webapp/requesthandlerclass.html">RequestHandler</a></li>
         <li><a href="../python/tools/webapp/wsgiapplicationclass.html">WSGIApplication</a></li>
         <li><a href="../python/tools/webapp/utilmodule.html">Utility Functions</a></li>
         
       </ul>
     </li>

      </ul>
    </li>
    <li><a href="../python/tools/localunittesting.html">Local Unit Testing</a></li>
    <li><a href="../python/tools/appstats.html">Appstats</a></li>
    <li><a href="../python/tools/libraries.html">Included Libraries </a>(Python 2.5)</li>
    <li><a href="../python/tools/libraries27.html">Included Libraries</a>(Python 2.7)</li>
    <li><a href="../python/tools/appengineconfig.html">Python Module Configuration</a></li>

      </ul>
    </li>
    <li><a href="../python/howto/index.html">How-To</a>
      <ul>
              <li><a href="../python/howto/usinggdataservices.html">Google Data Services</a></li>
      <li><a href="../python/howto/maintenance.html">Handling Scheduled Maintenance Periods</a></li>

      </ul>
    </li>

    </ul>
  </li>
</ul>
<div class="line"></div>
<ul>
  <li><h2>Go</h2> <span class="exp-feat">Experimental!</span>
    <ul>
          <li><a href="../go/overview.html">Overview</a></li>
    <li><a href="../go/runtime.html">Runtime Environment</a>
      <ul>
        <li><a href="../go/reference.html">Reference</a></li>
      </ul>
    </li>
    <li><a href="../go/backends/index.html">Backends</a>
      <ul>
        <li><a href="../go/backends/overview.html">Overview</a></li>
<li><a href="../go/backends/runtime.html">Runtime package</a></li>

      </ul>
    </li>
    <li><a href="../go/datastore/index.html">Storing Data</a>
      <ul>
             <li><a href="../go/datastore/overview.html">Overview</a></li>
     <li><a href="../go/datastore/transactions.html">Transactions</a></li>
     <li><a href="../go/datastore/reference.html">Reference</a></li>

      </ul>
    </li>
    <li><a href="../go/apis.html">Services</a>
      <ul>
        <li><a href="../go/blobstore/index.html">Blobstore</a>
          <ul>
            <li><a href="../go/blobstore/overview.html">Overview</a></li>
<li><a href="../go/blobstore/reference.html">Reference</a></li>

          </ul>
        </li>
        <li><a href="../go/capabilities/index.html">Capabilities</a>
          <ul>
            <li><a href="../go/capabilities/overview.html">Overview</a></li>
<li><a href="../go/capabilities/reference.html">Reference</a></li>

          </ul>
        </li>
        <li><a href="../go/channel/index.html">Channel</a>
          <ul>
            <li><a href="../go/channel/overview.html">Overview</a></li>
<li><a href="../go/channel/reference.html">Reference</a></li>
<li><a href="../go/channel/javascript.html">Client Javascript Reference</a></li>

          </ul>
        </li>
        <li><a href="../go/mail/index.html">Mail</a>
          <ul>
                 <li><a href="../go/mail/overview.html">Overview</a></li>
     <li><a href="../go/mail/reference.html">Reference</a></li>

          </ul>
        </li>
        <li><a href="../go/memcache/index.html">Memcache</a>
          <ul>
                 <li><a href="../go/memcache/overview.html">Overview</a></li>
     <li><a href="../go/memcache/reference.html">Reference</a></li>

          </ul>
        </li>
        <li><a href="../go/taskqueue/index.html">Task Queues</a>
          <ul>
                 <li><a href="../go/taskqueue/overview.html">Overview</a></li>
     <li><a href="../go/taskqueue/reference.html">Reference</a></li>
     <li><a href="../go/taskqueue/delay.html">Delay package</a></li>

          </ul>
        </li>
        <li><a href="../go/urlfetch/index.html">URL Fetch</a>
          <ul>
                 <li><a href="../go/urlfetch/overview.html">Overview</a></li>
     <li><a href="../go/urlfetch/reference.html">Reference</a></li>

          </ul>
        </li>
        <li><a href="../go/users/index.html">Users</a>
          <ul>
                 <li><a href="../go/users/overview.html">Overview</a></li>
     <li><a href="../go/users/reference.html">Reference</a></li>

          </ul>
        </li>
      </ul>
        <li><a href="../go/config/index.html">Configuration</a>
          <ul>
                <li><a href="../go/config/appconfig.html">App Config</a></li>
    <li><a href="../go/config/backends.html">Backends Config</a></li>
    <li><a href="../go/config/indexconfig.html">Index Config</a></li>
    <li><a href="../go/config/cron.html">Scheduled Tasks</a></li>
    <li><a href="../go/config/queue.html">Task Queue Config</a></li>
    <li><a href="../go/config/dos.html">DoS Protection Config</a></li>

          </ul>
        </li>
        <li><a href="../go/tools/index.html">Tools</a>
          <ul>
                <li><a href="../go/tools/devserver.html">Development Server</a></li>
    <li><a href="../go/tools/uploadinganapp.html">Uploading and Managing an App</a></li>

          </ul>
        </li>
    </li>

    </ul>
  </li>
</ul>
<div class="line"></div>
<ul>
  <li><h2>Managing Your App</h2>
    <ul>
      <li><a href="index.html">Admin Console</a>
        <ul>
          <li><a href="instances.html">Instances</a></li>
<li><a href="roles.html">Roles</a></li>
<li><a href="applicationsettings.html">Application Settings</a></li>
<li><a href="migration.html">Migrating Applications</a></li>
<li><a href="datastoreconsole.html">Datastore</a>
<ul>
<li><a href="datastoreadmin.html">Backup/Restore, Copy, and Delete</a></li>
<li><a href="datastorestats.html">Statistics</a></li>
</ul>
</li>
<li><a href="performancesettings.html">Performance Settings</a></li>
<li><a href="trafficsplitting.html">Traffic Splitting</a></li>

        </ul>
      </li>
      <li><a href="../quotas.html">Quotas</a></li>
      <li><a href="../billing.html">Billing</a></li>
      <li><a href="../premier/index.html">Premier Accounts</a></li>
      <li><a href="../domain.html">Using a Custom Domain</a></li>
    </ul>
  </li>
</ul>
<div class="line"></div>
<ul>
  <li><h2>Resources</h2>
    <ul>
      <li><a href="../../kb/index.html">FAQ</a></li>
      <li><a href="../../articles/index.html">Articles</a></li>
      <li><a href="../features.html">Roadmap & Features</a><sup class="new">New!</sup></li>
      <li><a href="../videoresources.html">Video Resources</a></li>
      <li><a href="http://code.google.com/p/googleappengine/">SDK Code</a></li>
      <li><a href="http://code.google.com/p/datanucleus-appengine/">JDO/JPA Code</a></li>
      <li><a href="http://code.google.com/p/google-app-engine-samples/">Sample Apps Code</a></li>
      <li>Launcher Code
        <ul>
          <li><a href="http://code.google.com/p/google-appengine-mac-launcher/">Mac</a></li>
          <li><a href="http://code.google.com/p/google-appengine-wx-launcher/">Windows/wx</a></li>
        </ul>
      </li>
      <li><a href="../../community.html">Discussion Groups</a></li>
    </ul>
  </li>
</ul>
<div class="line"></div>
<ul>
  <li><a href="http://code.google.com/p/googleappengine/wiki/SdkReleaseNotes">Release Notes: Python</a></li>
  <li><a href="http://code.google.com/p/googleappengine/wiki/SdkForJavaReleaseNotes">Release Notes: Java</a></li>
  <li><a href="../revision_history.html">Revision History</a></li>
</ul>

        <a class="hidden" href="#gc-topnav-anchor">More Google App Engine resource links</a>
      </div>

      <div class="g-unit" id="gc-pagecontent">
        <h1 class="page_title">Traffic Splitting</h1>



<div class="special">
<h4>Experimental!</h4>
<p>Traffic Splitting is an experimental, innovative, and rapidly changing new feature for App Engine. Unfortunately, being on the bleeding edge means that we may make backwards-incompatible changes to Traffic Splitting. We will inform the community when this feature is no longer experimental.</p>
</div>


<p>App Engine's Traffic Splitting tool allows you to roll out features for your app slowly over a period of time, similar to what Google does when rolling out a new feature over a few days or weeks. Traffic Splitting also allows you to do <a href="http://en.wikipedia.org/wiki/A/B_testing" target="_blank">A/B Testing</a>. Traffic Splitting works by splitting incoming requests to different versions of your app.</p>

<p>To <a href="#Adding_and_Configuring_Traffic_Splitting">set up Traffic Splitting</a>, choose a non-default version of your app with code you want to test, specify the percentage of traffic it should receive, and choose the type of splitting to use. It also important to pay attention to the effects of <a href="#How_Caching_Impacts_Traffic_Splitting">caching</a> on the static and dynamic resources in your app.</p>

<ul>
  <li><a href="#Adding_and_Configuring_Traffic_Splitting">Adding and Configuring Traffic Splitting</a></li>
  <li><a href="#The_Types_of_Splitting">The Types of Splitting: IP Address and Cookie</a></li>
  <ul>
    <li><a href="#Splitting_Traffic_Using_IP_Address">Splitting Traffic Using IP Address</a></li>
    <li><a href="#Splitting_Traffic_Using_IP_Address">Splitting Traffic Using Cookies</a></li>
    <li><a href="#Routing">Routing</a></li>
  </ul>
  <li><a href="#How_Caching_Impacts_Traffic_Splitting">How Caching Impacts Traffic Splitting</a></li>
</ul>


<h2 id="Adding_and_Configuring_Traffic_Splitting">Adding and Configuring Traffic Splitting</h2>

<p>You can find the settings for configuring Traffic Splitting on the <strong>Versions</strong> tab in the Admin Console. In this tab, you can create a new version of your app and select the percentage of traffic to send to that version.</p>

<p class="note"><strong>Note:</strong> You cannot enable Traffic Splitting on the default version of your app. Make sure you have at least two major versions of your app available, so that you have one non-default version.</p>

<p>Traffic can be sent to different versions of your app using either an IP address or a cookie, as described in the next section.</p>


<h2 id="The_Types_of_Splitting">The Types of Splitting: IP Address and Cookie</h2>

<p>You may choose only one method for splitting traffic per version of your app:</p>

<ul>
  <li><strong>IP address</strong>. Users are routed to the app version based on their IP address.</li>
  <li><strong>Cookie</strong>. Users are routed to the app version based on an HTTP cookie. </li>
</ul>

<p>
IP address splitting is easier to set up, but delivers less precise and detailed statistics. For example, if you ask for 5% of traffic to be delivered to an alternate version, you may get a range of 3&ndash;7%. Because it is the easiest to use, IP splitting is the default setting in the Administration Console.
</p>

<p>
Cookie splitting gives you finer control of your traffic-splitting experiments, and also enables you to do A/B testing. However, it is more difficult to set up than traffic splitting. If you want to do fine-tuned experiments, use cookie splitting.
</p>


<h3 id="Splitting_Traffic_Using_IP_Address">Splitting Traffic Using IP Address</h3>

<p>IP splitting requires less effort to manage, because it is based simply on the user's IP address. When the application receives an address, it hashes the IP address of that request to a value between 0&ndash;999. This value determines which version a user is routed to.
</p>

<p>IP address splitting has some significant limitations:</p>
<ul>
  <li><strong>Non-uniform distribution</strong>. In statistical terms, the standard deviation can be very large. This means that you may get a significantly different percentage of traffic then what you set. If you ask for 10% of traffic, the mean is 10% and the standard deviation is generally 2&ndash;3%. If you ask for 1% of traffic, the standard deviation is generally 1%. This means that you could end up getting no traffic at all. This is likely fine when launching new features, but is very problematic when doing A/B testing.</li>
  <li><strong>IP addresses change</strong>. IP addresses are reasonably sticky, but are not permanent. Users connecting from cell phones may have a shifting IP address throughout a single session. Similarly, a user on a laptop may be moving from home to a cafe to work, and hence also shifting through IP addresses. As a result, the user may have an inconsistent experience with your app as their IP address changes.</li>
  <li><strong>Internal requests don't work</strong>. Requests sent to your app from outside of Google's cloud infrastructure will work normally. However, requests sent from your app to another app (or to itself) are not sent to a version because they all originate from the a small number of IP addresses. This applies to any traffic between apps within Google's cloud infrastructure. If you need to send requests between apps, use cookie splitting instead.</li>
</ul>


<h3 id="Splitting_Traffic_Using_Cookies">Splitting Traffic Using Cookies</h3>

<p>Cookie splitting works by using HTTP cookies to assign users a value between 0&ndash;999. This approach makes it much easier to get a uniform distribution of users to versions, and hence we allow smaller slices of traffic (as small as 0.1%). Cookies assigned to a particular user remain with that user, ensuring a more uniform distribution of traffic to each version. Cookie splitting also has some limitations:

<ul>
  <li><strong>Cookie management is required for mobile or desktop apps.</strong> If you are writing a mobile app or a desktop client of some kind, then it will need to manage cookies. When App Engine sends back a <code>Set-Cookie</code> header, you need to store this cookie and send it with each subsequent request. Browser-based apps work fine, as browsers automatically manage cookies.</li>
  <li><strong>Internal requests require extra work.</strong> Requests sent from your app server-side to another app (or to itself) can be sent into a version, but doing so requires you to forward the user's cookie as part of the request. However, internal requests that don't originate from the user are not recommended for versions.</li>
</ul>

<h4>Setting the Cookie</h4>
<p>The cookie is set for you automatically. The cookie App Engine uses for traffic splitting is <code>GOOGAPPUID</code>, and its range of valid values is 0&ndash;999. This cookie is set to a random valid value if and only if the following are true:</p>
<ul>
  <li>Your app is configured to use cookie splitting.</li>
  <li>The HTTP request from the user does not already contain the <code>GOOGAPPUID</code> header.</li>
  <li>The response from your app does not already contain a <code>Set-Cookie: GOOGAPPUID=...</code> header.</li>
</ul>

<p>You can override the automatic behavior simply by sending a <code>Set-Cookie: GOOGAPPUID=...</code> header of your own. App Engine will not attempt to overwrite or override it.</p>


<h3 id="Routing">Routing</h3>

<p>Each request arriving at an app is sent to a particular version of the app. Normally, the versions are distinguished by URL. For example, consider an app called <code>codeninja</code> with three active major versions: <code>alpha</code>, <code>beta</code>, and <code>default</code>. All traffic sent to <code>http://codeninja.appspot.com</code> goes to the <code>default</code> version, but you can send traffic to other versions by including their version name as a prefix (for example, you could access the beta version of the codeninja app via <code>http://beta.codeninja.appspot.com</code>.</p>

<p>Let's say you are rolling out <code>beta</code> slowly to all your users, and it is currently set to receive 20% of all traffic. App Engine automatically assigns 20% of available values (0&ndash;199) to the <code>beta</code> version. Depending on which traffic splitting method you choose, when an end user arrives at your app, App Engine either hashes their IP or examines their cookie. If the result of that is in the range 0&ndash;199, then the end user is sent to the <code>beta</code> version.</p>

<p>At the same time, you also have a highly experimental version (<code>alpha</code>) which is receiving 1% of traffic, to see how it influences user behavior. App Engine assigns this version 1% of possible values guaranteed not to overlap with <code>beta</code>. For example, maybe this range is 990&ndash;999.</p>

<p>In this example, users are sent to a version based on their IP or hashed cookie as follows:</p>

<ul>
  <li>0&ndash;199: users sent to <code>beta</code></li>
  <li>200&ndash;989: users sent to <code>default</code></li>
  <li>900 to 999: users sent to <code>alpha</code>.</li>
</ul>


<h2 id="How_Caching_Impacts_Traffic_Splitting">How Caching Impacts Traffic Splitting</h2>

<p>When using Traffic Splitting, you need to treat cached resources carefully. The cached versions of static and dynamic resources can create an inconsistent user experience or unanticipated application behavior between versions. Caching issues exist for all apps, but traffic splitting will make subtle flaws in caching much more apparent.</p>

<p>You can avoid this problem for dynamic resources by setting either a <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.9"><code>Cache-Control</code></a> header or an <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.21"><code>Expires</code></a> header. These headers indicate to proxies that the resource is dynamic.</p>

<p>For cacheable static resources that vary between versions, you can simply change the URL for cacheable static resources that vary between versions. If each version of a static resource is serving from different URLs, then those resources can happily co-exist in proxy servers and browser caches.</p>


<h3 id="VaryCookie">Caching and <code>Vary: Cookie</code></h3>

<p>If the app sets the <a href="http://en.wikipedia.org/wiki/HTTP_Cookie"><code>Vary: Cookie</code></a> header, the uniqueness of a resource is computed by combining the cookies and the URL for the request. This approach increases the burden on cache servers. There are 1000 possible values of <code>GOOGAPPUID</code>, and hence 1000 possible entries for each URL for your app. Depending on the load on the proxies between your users and your app, this may decrease cache hit rate. Also note that for the 24 hours after adding a new batch of users to a version, they may still see cached resources. However, using <code>Vary: Cookie</code> can make it easier to rename static resources that are changing between versions.</p>

<p>The <code>Vary: Cookie</code> technique doesn't work in all circumstances. In general, if your app is using cookies for other purposes, then you must consider how this affects the burden on proxy servers. If <code>codeninja</code> had its own cookie that had 100 possible values, then the space of all possible cache entries becomes <code>100 * 1000 = 100,000</code>. That's very big number. In the worst case, there is a unique cookie for every user. Two common examples of this are Google Analytics (<code>__utma</code>) and SiteCatalyst (<code>s_vi</code>). In this case, every user gets a unique copy, which severely degrades cache performance and also may increase the number of billable instance hours consumed by your app.</p>

<h3 id="Other">Other Resources</h3>
<p>In the example above, the corresponding <code>Date</code> and <code>Expires</code> headers are omitted for brevity. These headers are important, as not all proxy servers properly support the HTTP/1.1 <code>Cache-Control</code> header. If you want more information on caching in general, try these web pages:</p>
<ul>
  <li><a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html">Header Fields in the HTTP/1.1 RFC</a></li>
  <li><a href="http://code.google.com/p/browsersec/wiki/Part2#Document_caching">Document Caching in the Browser Security Handbook</a></li>
</ul>


      </div><!-- end gc-pagecontent -->
   </div><!-- end gooey wrapper -->

    </div> <!-- end codesite content -->


<div id="gc-footer" dir="ltr">
  <div class="text">
    
      <div class="notice"><div id="notice" style="text-align: center; border: 1em 0em 1em 0em">
  Except as otherwise <a
  href="http://code.google.com/policies.html#restrictions">noted</a>,
  the content of this page is licensed under the <a rel="license"
  href="http://creativecommons.org/licenses/by/3.0/">Creative Commons
  Attribution 3.0 License</a>, and code samples are licensed under the
  <a rel="license" href="http://www.apache.org/licenses/LICENSE-2.0">Apache
  2.0 License</a>.
<!-- <rdf:RDF xmlns="http://web.resource.org/cc/" 
              xmlns:dc="http://purl.org/dc/elements/1.1/"
              xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
  <Work rdf:about="">
    <license rdf:resource="http://creativecommons.org/licenses/by/3.0/" />
  </Work>
  <License rdf:about="http://creativecommons.org/licenses/by/3.0/">
    <permits rdf:resource="http://web.resource.org/cc/Reproduction"/>
    <permits rdf:resource="http://web.resource.org/cc/Distribution"/>
    <requires rdf:resource="http://web.resource.org/cc/Notice"/>
    <requires rdf:resource="http://web.resource.org/cc/Attribution"/>
    <permits rdf:resource="http://web.resource.org/cc/DerivativeWorks"/>
  </License>
</rdf:RDF> -->
</div>
Java is a registered trademark of Oracle Corporation and/or its affiliates</div>
    
    ©2012 Google -
    <a href="http://code.google.com">Code Home</a> -
    <a href="http://code.google.com/terms.html">Site Terms of Service</a> -
    <a href="http://code.google.com/privacy.html">Privacy Policy</a> -
    <a href="http://code.google.com/more">Site Directory</a>
    <br> <br>
    Google Code offered in:
    <a href="http://code.google.com/intl/en">English</a> -
    <a href="http://code.google.com/intl/es">Español</a> -
    <a href="http://code.google.com/intl/ja">日本語</a> -
    <a href="http://code.google.com/intl/ko">한국어</a> -
    <a href="http://code.google.com/intl/pt-BR">Português</a> -
    <a href="http://code.google.com/intl/ru">Pусский</a> -
    <a href="http://code.google.com/intl/zh-CN">中文(简体)</a> -
    <a href="http://code.google.com/intl/zh-TW">中文(繁體)</a>
  </div>
</div><!-- end gc-footer -->

</div><!-- end gc-container -->

<script type="text/javascript">CODESITE_CSITimer['load'].tick('ats');</script>
<script src="../../../js/codesite_tail.pack.04102009.js" type="text/javascript"></script>
<script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>





  </body>
</html>



